@startuml

start

:Пользователь выбирает автомобиль;
:Оформляет бронь;
:Оплачивает депозит;

if (Бронь успешна?) then (yes)
  :Автомобиль становится зарезервированным;
  :Создаётся заказ в статусе "зарезервирован";
else (no)
  :Ошибка, процесс бронирования не завершён;
  stop
endif

:Пользователь приходит в автосалон;
:Администратор проверяет статус заказа;
if (Подтверждение покупки?) then (yes)
  :Меняется статус заказа на "покупка подтверждена";
  :Меняется статус автомобиля на "продан";
  :Обрабатывается транзакция (депозит + остаток);
  :Выдаётся договор и документы;
else (no)
  :Процесс покупки не завершён;
  stop
endif

:Завершение покупки;
stop

@enduml
